<!-- <div class="mx-8 py-8">

  <div class="grid grid-cols-4 gap-5">
    <div class="col-span-1 mt-0 ">
      <app-nav-left></app-nav-left>
    </div>

    <div class="col-span-3">
      <div class="chat-container relative">
        <ng-container *ngIf=" param=='sum'">

          <div  class="message received">
            <span class="sender">Chat IJKL:</span>
            <ng-container *ngIf="sumData; else sumDataSection">
              <p>{{sumData}}</p>
            </ng-container>
            <ng-template #sumDataSection>
                <div class="flex justify-center items-center w-full h-full flex-col space-y-2">
                  <mat-spinner  color="accent" diameter="40"></mat-spinner>
                  <span>Loading...</span>
                </div>
            </ng-template>

          </div>
        </ng-container>

        <ng-container *ngIf=" param=='qa'">
          <div *ngFor="let message of messages" [class]="message.className">
            <span class="sender">{{ message.sender }}:</span>
            <p>{{ message.content }}</p>
          </div>

          <div class="new-message bottom-32 flex w-full">
            <input class="searched-message" type="text" placeholder="Type your message..." [(ngModel)]="userInput" (keyup.enter)="sendMessage()">
            <button (click)="sendMessage()">Send</button>
          </div>

        </ng-container>


        <ng-container *ngIf=" param=='quizizz'">
          <div class="quiz-container">
       
            <ng-container  *ngIf="answers; else answersIsNull">
              <span class="sender">Chat IJKL:</span>
                
            <div *ngFor="let question of answers; let questionIndex = index">
              <p>{{questionIndex + 1}}. {{ question.query }}</p>
              <ul>
                <li *ngFor="let choice of question.choices; let i = index">
                  <label>
                    <input type="radio" name="answer{{ questionIndex }}" [value]="i" (change)="updateSelectedAnswer(questionIndex, i)">
                    {{ i + 1 }}. {{ choice }}
                  </label>
                </li>
              </ul>
              <p *ngIf="questionResults[questionIndex] === 'Correct'" class="text-success">Correct!
                <span>answer : {{question.answer+1}}. </span>
                <span>{{question.explanation}}</span>
                </p>
              <p *ngIf="questionResults[questionIndex] === 'Incorrect'" class="text-danger">Incorrect!
                <span>answer:{{question.answer+1}}. </span> 
                <span>{{question.explanation}}</span> <br>
              </p>
              <hr>
            </div>
            <div class="flex justify-center items-center w-full h-full flex-col space-y-2">
      
              <ng-container *ngIf="loadAddQuestion==true">
                <mat-spinner  color="accent" diameter="30"></mat-spinner>
                <span>Loading...</span>
              </ng-container>
            </div>
            <div class="flex justify-around items-center h-full w-full">
      
              
                <button class="mt-2" (click)="routerHistory()">History</button>
                <button class="mt-2" (click)="addQuestion()">add 10 question</button>
                <button class="mt-2" (click)="checkAnswers()">Check</button>
            
            </div>
      </ng-container> 
        <ng-template #answersIsNull>
          <div class="space-y-0">
            
            <span class="sender ">Chat IJKL:</span>
            <div class="flex justify-center items-center w-full h-full flex-col space-y-2">
      
              <mat-spinner  color="accent" diameter="40"></mat-spinner>
              <span>Loading...</span>
            </div>
          </div>
        </ng-template>
      
          </div>
        </ng-container>
        <ng-container *ngIf=" param==''">
          <p class="flex items-center justify-center h-full text-xl">Login and select the file to use</p>
        </ng-container>

      </div>
      <app-feature (answer)="receiveDataFromFeature($event)"></app-feature>
    </div>
  </div>
</div> -->
<div class="chat-container relative">
  <ng-container *ngIf=" param=='sum'">

    <div  class="message received">
      <span class="sender">Chat IJKL:</span>
      <ng-container *ngIf="sumData; else sumDataSection">
        <p>{{sumData}}</p>
      </ng-container>
      <ng-template #sumDataSection>
          <div class="flex justify-center items-center w-full h-full flex-col space-y-2">
            <mat-spinner  color="accent" diameter="40"></mat-spinner>
            <span>Loading...</span>
          </div>
      </ng-template>

    </div>
  </ng-container>

  <ng-container *ngIf=" param=='qa'">
    <div *ngFor="let message of messages" [class]="message.className">
      <span class="sender">{{ message.sender }}:</span>
      <p>{{ message.content }}</p>
    </div>

    <div class="new-message bottom-32 flex w-full">
      <input class="searched-message" type="text" placeholder="Type your message..." [(ngModel)]="userInput" (keyup.enter)="sendMessage()">
      <button (click)="sendMessage()">Send</button>
    </div>

  </ng-container>


  <ng-container *ngIf=" param=='quizizz'">
    <div class="quiz-container">
 
      <ng-container  *ngIf="answers; else answersIsNull">
        <span class="sender">Chat IJKL:</span>
          
      <div *ngFor="let question of answers; let questionIndex = index">
        <p>{{questionIndex + 1}}. {{ question.query }}</p>
        <ul class="mx-4">
          <li *ngFor="let choice of question.choices; let i = index">
            <label>
              <input type="radio" name="answer{{ questionIndex }}" [value]="i" (change)="updateSelectedAnswer(questionIndex, i)">
              {{ i + 1 }}. {{ choice }}
            </label>
          </li>
        </ul>
        <br>
        <p *ngIf="questionResults[questionIndex] === 'Correct'" class="text-success">Correct!
          <span>answer : {{question.answer+1}}. </span>
          <span>{{question.explanation}}</span>
          </p>
        <p *ngIf="questionResults[questionIndex] === 'Incorrect'" class="text-danger">Incorrect!
          <span>answer:{{question.answer+1}}. </span> 
          <span>{{question.explanation}}</span> <br>
        </p>
        <hr>
      </div>
      <div class="flex justify-center items-center w-full h-full flex-col space-y-2">

        <ng-container *ngIf="loadAddQuestion==true">
          <mat-spinner  color="accent" diameter="30"></mat-spinner>
          <span>Loading...</span>
        </ng-container>
      </div>
      <div class="flex justify-around items-center h-full w-full">

        
          <button class="mt-2" (click)="routerHistory()">History</button>
          <button class="mt-2" (click)="addQuestion()">add 5 question</button>
          <button class="mt-2" (click)="checkAnswers()">Check</button>
      
      </div>
</ng-container> 
  <ng-template #answersIsNull>
    <div class="space-y-0">
      
      <span class="sender ">Chat IJKL:</span>
      <div class="flex justify-center items-center w-full h-full flex-col space-y-2">

        <mat-spinner  color="accent" diameter="40"></mat-spinner>
        <span>Loading...</span>
      </div>
    </div>
  </ng-template>

    </div>
  </ng-container>
  <ng-container *ngIf=" param==''">
    <p class="flex items-center justify-center h-full text-xl">Login and select the file to use</p>
  </ng-container>

</div>
<app-feature (answer)="receiveDataFromFeature($event)"></app-feature>
